<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="UTF-8"/>
	    <title>Universidad Latina - Educación en línea - Editar Solicitud</title>
	    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous"/>
	    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
		<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
		<script type="text/javascript" src="js/formulario.js"></script>
		<script type="text/javascript" src="js/editar-solicitud.js"></script>
		<link rel="stylesheet" href="css/generalidades.css"/>
		<script type="text/javascript" src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
		<link rel="stylesheet" href="https://formden.com/static/cdn/bootstrap-iso.css" />
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/js/bootstrap-datepicker.min.js"></script>
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/css/bootstrap-datepicker3.css"/>
		<script>
			$( function() {
				$( "#fechaNacimiento" ).datepicker({
			  	});
			} );
		</script>
	</head>
	<body>
		<!-- ######################## INICIO DE LA SOLICITUD DEL REGISTRO ######################## -->
		<div class="container">				
			<!-- ######################## INICIO DE LA SOLICITUD DEL REGISTRO ######################## -->
			<div class="form-row">
				<div class="col-md-6 mb-6 centrado">
					<img alt="" src="imagenes/unilaenlinea.png" style="width: 17%;"/>
				</div>
				<div class="col-md-6 mb-6">
					<br/>
					<br/>
					<h1><span class="dorado">Editar la solicitud</span><span class="naranja"> de registro</span></h1>
				</div>			
			</div>				
			<hr/>
			<form class="solicitud" id="solicitud" th:action="@{/solicitud}" method="post">
				<!-- ######################## INSTRUCCIONES ######################## -->
					<div class="col-md-12 mb-12">
	  					<div class="alert alert-info" role="alert">				  				
							<b>Instrucciones: </b> Para completar el registro realiza los siguientes pasos que aparecen a continuación: </div>
		  			</div>
	  			<!-- ######################## FIN INSTRUCCIONES ######################## -->
				
				<!-- ######################## PASOS ######################## -->
					<ul class="nav nav-tabs" id="myTab" role="tablist">
					  	<li class="nav-item centrado">
					    	<a class="nav-link active negritas" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home" aria-selected="true">
					    		Paso 1. Datos personales <br/>				    		
				    			<img alt="" src="imagenes/30446.svg" width="30%" />			    			
			    			</a>				    	
					  	</li>
					  	<li class="nav-item centrado">
					    	<a class="nav-link negritas" id="profile-tab" data-toggle="tab" href="#profile" role="tab" aria-controls="profile" aria-selected="false">
					    		Paso 2. Dirección <br/>
					    		<img alt="" src="imagenes/direccion.jpg" width="33%" />
				    		</a>
					  	</li>
					  	<li class="nav-item centrado">
					    	<a class="nav-link negritas" id="contact-tab" data-toggle="tab" href="#contact" role="tab" aria-controls="contact" aria-selected="false">
					    		Paso 3. Datos académicos<br/>
					    		<img alt="" src="imagenes/academicos.png" width="33%" />
				    		</a>
					  	</li>
					  	<li class="nav-item centrado">
					    	<a class="nav-link negritas" id="oferta-tab" data-toggle="tab" href="#oferta" role="tab" aria-controls="oferta" aria-selected="false">
					    		Paso 4. Oferta académica <br/>
					    		<img alt="" src="imagenes/posgrado.png" width="18%" />
				    		</a>
					  	</li>				  	
					</ul>
				<!-- ######################## FIN PASOS ######################## -->			
				
				<!-- ######################## C O N T E N I D O  ######################## -->
				<div class="tab-content" id="myTabContent">
					
					<!-- ######################## DATOS PERSONALES  ######################## -->
					<div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
				  		<div class="form-row">				  			
					    	<div class="col-md-4 mb-3">
					    		<br/>
						    	<label for="nombre">*Nombre(s)</label> <!-- is-invalid -->
						      	<input type="text" class="form-control " id="nombre" placeholder="Nombre" th:value="${user.nombre}" name="nombre"/>
						      	<div class="invalid-feedback">
						        	Por favor captura el nombre
						      	</div>
						    </div>
						    <div class="col-md-4 mb-3">
						    	<br/>
						    	<label for="APaterno">*Apellido paterno</label> <!-- is-invalid -->
						      	<input type="text" class="form-control " id="APaterno" placeholder="Paterno" th:value="${user.APaterno}" name="APaterno"/>
						      	<div class="invalid-feedback">
						        	Por favor captura el apellido paterno
						      	</div>
						    </div>
						    <div class="col-md-4 mb-3">
						    	<br/>
						    	<label for="nombre">*Apellido materno</label> <!-- is-invalid -->
						      	<input type="text" class="form-control " id="AMaterno" placeholder="Materno" th:value="${user.AMaterno}" name="AMaterno"/>
						      	<div class="invalid-feedback">
						        	Por favor captura el apellido materno
						      	</div>
						    </div>
				  		</div>
					  	<div class="form-row">
					    	<div class="col-md-4 mb-3">
						    	<label for="email">*Correo electrónico</label> <!-- is-invalid -->
						      	<input type="email" class="form-control " id="email" placeholder="Correo electrónico" th:value="${user.tblContacto.email}" name="email"/>
						      	<div class="invalid-feedback">
						        	Por favor captura un correo electrónico válido 
						      	</div>
						    </div>
						    <div class="col-md-4 mb-3">
						    	<label for="curp">*CURP</label> <!-- is-invalid -->
						      	<input type="text" class="form-control " id="curp" placeholder="Clave Única de Registro Poblacional" th:value="${user.curp}" name="curp"/>
						      	<div class="invalid-feedback">
						        	Por favor captura la CURP
						      	</div>
						    </div>
						    <div class="col-md-4 mb-3">
						    	<label for="rfc">*RFC</label> <!-- is-invalid -->
						      	<input type="text" class="form-control " id="rfc" placeholder="Registro Federal de Contribuyentes" th:value="${user.rfc}" name="rfc"/>
						      	<div class="invalid-feedback">
						        	Por favor captura el RFC
						      	</div>
						    </div>
					  	</div>
					  	<div class="form-row">
						    <div class="col-md-4 mb-3">
						    	<label for="telefonoLocal">*Teléfono</label> <!-- is-invalid -->
						      	<input type="text" class="form-control " id="telefonoLocal" placeholder="Local" th:value="${user.tblContacto.telefonoLocal}" name="telefonoLocal"/>
						      	<div class="invalid-feedback">
						        	Por favor captura el teléfono local
						      	</div>
						    </div>
						    <div class="col-md-4 mb-3">
					    		<label for="telefonoCelular">Teléfono</label> <!-- is-invalid -->
						      	<input type="text" class="form-control " id="telefonoCelular" placeholder="Celular" name="telefonoCelular" th:value="${user.tblContacto.telefonoCelular}"/>
						      	<div class="invalid-feedback">
						        	Por favor captura el teléfono celular
						      	</div>
						    </div>
						    <div class="col-md-4 mb-3 centrado">
					    		<p>*Género</p>
						    	<div class="form-check">
							  		<input class="form-check-input" type="radio" name="genero" id="genero1" value="femenino" th:checked="${user.genero} == 'femenino'"/>
							  		<label class="form-check-label" for="genero1">
							    		Femenino
							  		</label>
								</div>
								<div class="form-check">
								  	<input class="form-check-input" type="radio" name="genero" id="genero2" value="masculino" th:checked="${user.genero} == 'masculino'"/>
								  	<label class="form-check-label" for="genero2">
								    	Masculino
								  	</label>
								</div>
					    	</div>
					    	<div class="col-md-4 mb-3">
					    		<label for="fechaNacimiento">Fecha de nacimiento</label> <!-- is-invalid -->
					      		<input type="text" class="form-control" id="fechaNacimiento" placeholder="Fecha de nacimiento" name="fechaNacimiento" th:value="${#dates.format(user.fechaNacimiento, 'MM/dd/yyyy')}"/>
					      		<div class="invalid-feedback">
					        		Por favor captura la fecha de nacimiento
					      		</div>
						    </div>
				  		</div>
			  		</div>
			  		<!-- ######################## FIN DATOS PERSONALES  ######################## -->			  		
			  		
			  		<!-- ######################## DIRECCIÓN  ######################## -->
				  	<div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">
						<div class="form-row">
					    	<div class="col-md-6 mb-3">
					    		<br/>
						    	<label for="calle">*Calle</label> <!-- is-invalid -->
						      	<input type="text" class="form-control " id="calle" placeholder="Calle" th:value="${user.tblDireccion.calle}" name="calle"/>
						      	<div class="invalid-feedback">
						        	Por favor captura la calle
						      	</div>
						    </div>
						    <div class="col-md-6 mb-3">
						    	<br/>
						    	<label for="colonia">*Colonia</label> <!-- is-invalid -->
						      	<input type="text" class="form-control " id="colonia" placeholder="Colonia" th:value="${user.tblDireccion.colonia}" name="colonia"/>
						      	<div class="invalid-feedback">
						        	Por favor captura la colonia
						      	</div>
						    </div>
				  		</div>
				  		<div class="form-row">
				  			<div class="col-md-4 mb-3">
						    	<label for="APaterno">Número interior</label> <!-- is-invalid -->
						      	<input type="text" class="form-control " id="numeroInterno" placeholder="Número interior" th:value="${user.tblDireccion.numeroInterno}" name="numeroInterno"/>
						    </div>
						    <div class="col-md-4 mb-3">
						    	<label for="nombre">Número exterior</label> <!-- is-invalid -->
						      	<input type="text" class="form-control " id="numeroExterno" placeholder="Número exterior" th:value="${user.tblDireccion.numeroExterno}" name="numeroExterno"/>
						    </div>
						    <div class="col-md-4 mb-3">
						    	<label for="codigoPostal">*Código postal</label> <!-- is-invalid -->
						      	<input type="text" class="form-control " id="codigoPostal" placeholder="codigoPostal" th:value="${user.tblDireccion.codigoPostal}" name="codigoPostal"/>
						      	<div class="invalid-feedback">
						        	Por favor captura el código postal
						      	</div>
						    </div>
					    </div>

					    <div class="form-row">
					    	<div class="col-md-4 mb-3">
					    	<p>*País de residencia:</p>
							  	<select class="custom-select" id="catPais" name="catPais.id">							  		
									<option 
									th:each="pais : ${paises}" 
									th:value="${pais.id}"
									th:selected="${user.tblDireccion.catPais.id} == *{pais.id}"
									th:text="${pais.nombre}"></option>									
						  		</select>
					    	</div>
						    <div class="col-md-4 mb-3">
						    	<div id="listado-estados">
							    	<p>*Estado de residencia:</p>
								  	<select class="custom-select" id="catEstado" name="catEstado.id">
								  		<option 
								  		th:each="estado : ${estados}" 
								  		th:value="${estado.id}"
								  		th:selected="${user.tblDireccion.catEstado.id} == *{estado.id}"
								  		th:text="${estado.nombre}"></option>
							  		</select>
						  		</div>						  		
						  		<div class="oculto" id="ciudad-internacional">
						  			<label for="ciudad">Ciudad o provincia*</label> <!-- is-invalid -->
							      	<input type="text" class="form-control " id="ciudad" placeholder="Ciudad o provincia" th:value="${user.tblDireccion.ciudadInternacional}" name="ciudadInternacional"/>
							      	<div class="invalid-feedback">
						        		Por favor capture la ciudad o provincia
						      		</div>
					    		</div>
					  		</div>					  		
				  		</div>
				  	</div>
				  	<!-- ######################## FIN DIRECCIÓN  ######################## -->
				  	
				  	
				  	<!-- ######################## DATOS ACADÉMICOS  ######################## -->
				  	<div class="tab-pane fade" id="contact" role="tabpanel" aria-labelledby="profile-tab">
						<div class="form-row">
							<br/>
							<div id="error-facademica" class="oculto">
							    	<div class="alert alert-danger" role="alert">
	  									Agregue por lo menos un nivel educativo
									</div>
							    </div>
					  			<div class="col-md-12 mb-12">	
					  				<br/>			  												
									<button type="button" class="btn btn-outline-primary" id="agregar-nivel">
									    + Agregar nivel educativo
									</button>
								</div>								
								<div class="col-md-4 mb-3 form-nuevo oculto">
									<br/>										
				  					<label for="institucion">Institución *</label> <!-- is-invalid -->
					      			<input type="text" class="form-control " id="institucion" placeholder="Institución" value="" name="institucion"/>
					      			<div class="invalid-feedback">
				        				Por favor capture el nombre de la institución
				      				</div>
			      				</div>	
				      			<div class="col-md-4 mb-3 form-nuevo oculto">
				      				<br/>		
				      				<label for="documento">Documento obtenido*</label> <!-- is-invalid -->
					      			<input type="text" class="form-control " id="documento" placeholder="Documento obtenido" value="" name="documento"/>
					      			<div class="invalid-feedback">
				        				Por favor capture el documento obtenido
				      				</div>					    																													    			
			    				</div>
			    				<div class="col-md-4 mb-3 form-nuevo oculto">
						    		<br/>
						    		<br/>
					    			<div class="input-group mb-3">
							  			<div class="input-group-prepend">
								    		<label class="input-group-text" for="catGradoEstudios">*Grado de estudios</label>
								  		</div>
								  		<select class="custom-select" id="catGradoEstudios" name="catGradoEstudios.id">
											<option th:each="grado : ${gradosAcademicos}" th:value="${grado.id}" th:text="${grado.nombre}">Wireframe</option>
								  		</select>
									</div>
						    	</div>
						    	<div class="col-md-4 mb-3 oculto" id="titulo-licenciatura">
						    	<br/>
						    		<label for="tituloLicenciatura">*Nombre del título o especialidad</label> <!-- is-invalid -->
							      	<input type="text" class="form-control " id="tituloLicenciatura" placeholder="Título de licenciatura" value="" name="tituloLicenciatura"/>
							      	<div class="invalid-feedback">
							        	Por favor captura el título de licencitura
							      	</div>
							    </div>						    
							    <div class="col-md-12 mb-12 form-nuevo oculto centrado">							    	
							    	<button type="button" class="btn btn-outline-success" id="registrar-nivel-ed">
									    + Guardar nivel educativo
									</button>														    		
						    	</div>
					    	<div th:if="${user.tblFormacionAcademicas.size() > 0}" class="col-md-12 mb-12">	
					    		<br/>	
								<div class="table-responsive">		
									<table class="table table-hover">
										<thead>
											<tr>							
												<th scope="col">Institución</th>
												<th scope="col">Documento obtenido</th>
												<th scope="col">Grado de estudios</th>
												<th scope="col">Título</th>
												<th scope="col" class="oculto">idGrado</th>
												<th scope="col">Acciones</th>
											</tr>
										</thead>
										<tbody id="formaciones">
		   									<th:block th:each="formacion : ${user.tblFormacionAcademicas}">
		      									<tr class="registro">	      					
		      										<td class="institucion" th:text="${formacion.institucion}">...</td>
		         									<td class="documento" th:text="${formacion.documentoObtenido}">...</td>	         						       					
		         									<td class="grado" th:text="${formacion.catGradoEstudios.nombre}">...</td>
		         									<td class="nombre" th:text="${formacion.nombre}">...</td>
		         									<td class="idGrado oculto" th:text="${formacion.catGradoEstudios.id}">...</td>
		         									<td class="boton"><button type="button" class="btn btn-outline-danger" onclick="return eliminarTr(this);">Eliminar</button></td>
		      									</tr>      					
		   									</th:block>
	   									</tbody>
									</table>
								</div>								
							</div>
							<input type="hidden" id="niveles-educativos" name="nivelesString"/>											    	
				  		</div>
				  	</div>  
				  	<!-- ######################## FIN DATOS ACADÉMICOS  ######################## -->	
				  	
				  	<!-- ######################## OFERTA ACADÉMICA  ######################## -->
					  	<div class="tab-pane fade" id="oferta" role="tabpane" aria-labelledby="oferta-tab">
					  		<div class="form-row">					  						  			
					  			<div class="col-md-6 mb-6" id="oferta-academica-select">
					  				<br/>					    		
					    			<div class="input-group mb-3">
							  			<div class="input-group-prepend">
								    		<label class="input-group-text" for="catOfertaAcademica">*Oferta educativa: </label>
								  		</div>
								  		<select class="custom-select" id="catOfertaAcademica" name="idOfertaAcademica">
											<option 
												th:each="oferta : ${ofertas}"
											 	th:value="${oferta.id}" 
											 	th:text="${oferta.nombre}"
											 	th:selected="${user.tblSolicitudes[0].catOfertaAcademica.id} == *{oferta.id}"
										 	>Wireframe</option>
								  		</select>								  		
									</div>
						    	</div>	
						    	<div class="col-md-12 mb-12 centrado">						    		
				    				<button type="button" class="btn btn-outline-primary" onclick="return validarDatos();">Enviar</button>				    				
						    	</div>				    						    	
					  		</div>
					  	</div>
				  	<!-- ######################## FIN OFERTA ACADÉMICA  ######################## -->
				  	
				  				  				  	
				  	<!-- ######################## ERROR CAMPOS ######################## -->				  			  	
					  	<div class="form-row error" style="display: none;">
					    	<div class="col-md-12 mb-3 centrado">
					    		<div class="alert alert-danger" role="alert">
		  							Existen errores en los campos
								</div>
						    </div>
					  	</div>
				  	<!-- ######################## FIN ERROR CAMPOS ######################## -->
			  	</div>
			</form>
		</div>
		<!-- ######################## FIN DE LA SOLICITUD DE REGISTRO ######################## -->
	</body>
</html>